<UserControl x:Class="BulkEditor.UI.Controls.ModernNavigationRail"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="80"
             MinWidth="{StaticResource MD3NavigationRailWidth}">

    <!-- Modern Navigation Rail Component -->
    <materialDesign:Card Style="{StaticResource NavigationCardStyle}" 
                       materialDesign:ElevationAssist.Elevation="Dp2">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- App Logo / Brand Area -->
            <Border Grid.Row="0" 
                  Padding="{StaticResource MD3Spacing8}"
                  Margin="{StaticResource MD3SpacingVertical8}">
                <Grid>
                    <Ellipse Width="48" Height="48" 
                           Fill="{DynamicResource PrimaryBrush}"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
                    <materialDesign:PackIcon Kind="FileDocument" 
                                           Width="{StaticResource MD3IconSizeLarge}" 
                                           Height="{StaticResource MD3IconSizeLarge}"
                                           Foreground="{DynamicResource OnPrimaryBrush}"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"/>
                </Grid>
            </Border>

            <!-- Navigation Items -->
            <StackPanel Grid.Row="1" 
                      Margin="{StaticResource MD3SpacingVertical8}">
                
                <!-- Dashboard -->
                <Button Style="{StaticResource NavigationRailButtonStyle}"
                      Command="{Binding NavigateToMainCommand}"
                      ToolTip="Dashboard"
                      IsEnabled="{Binding IsMainViewActive, Converter={StaticResource InverseBooleanConverter}}"
                      Margin="{StaticResource MD3SubItemMargin}">
                    <StackPanel HorizontalAlignment="Center">
                        <materialDesign:PackIcon Kind="ViewDashboard" 
                                               Width="{StaticResource MD3IconSizeMedium}" 
                                               Height="{StaticResource MD3IconSizeMedium}"
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="Home" 
                                 Style="{StaticResource LabelSmallTextStyle}"
                                 HorizontalAlignment="Center"
                                 Margin="{StaticResource MD3SpacingVertical8}"/>
                    </StackPanel>
                </Button>

                <!-- Documents -->
                <Button Style="{StaticResource NavigationRailButtonStyle}"
                      Command="{Binding NavigateToDocumentsCommand}"
                      ToolTip="Documents"
                      IsEnabled="{Binding IsDocumentViewActive, Converter={StaticResource InverseBooleanConverter}}"
                      Margin="{StaticResource MD3SubItemMargin}">
                    <StackPanel HorizontalAlignment="Center">
                        <materialDesign:PackIcon Kind="FileMultiple" 
                                               Width="{StaticResource MD3IconSizeMedium}" 
                                               Height="{StaticResource MD3IconSizeMedium}"
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="Files" 
                                 Style="{StaticResource LabelSmallTextStyle}"
                                 HorizontalAlignment="Center"
                                 Margin="{StaticResource MD3SpacingVertical8}"/>
                    </StackPanel>
                </Button>

                <!-- Processing -->
                <Button Style="{StaticResource NavigationRailButtonStyle}"
                      Command="{Binding NavigateToProcessingCommand}"
                      ToolTip="Processing"
                      IsEnabled="{Binding IsProcessingViewActive, Converter={StaticResource InverseBooleanConverter}}"
                      Margin="{StaticResource MD3SubItemMargin}">
                    <StackPanel HorizontalAlignment="Center">
                        <materialDesign:PackIcon Kind="Cogs" 
                                               Width="{StaticResource MD3IconSizeMedium}" 
                                               Height="{StaticResource MD3IconSizeMedium}"
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="Process" 
                                 Style="{StaticResource LabelSmallTextStyle}"
                                 HorizontalAlignment="Center"
                                 Margin="{StaticResource MD3SpacingVertical8}"/>
                    </StackPanel>
                </Button>

                <!-- Analytics -->
                <Button Style="{StaticResource NavigationRailButtonStyle}"
                      Command="{Binding NavigateToAnalyticsCommand}"
                      ToolTip="Analytics"
                      IsEnabled="{Binding IsAnalyticsViewActive, Converter={StaticResource InverseBooleanConverter}}"
                      Margin="{StaticResource MD3SubItemMargin}">
                    <StackPanel HorizontalAlignment="Center">
                        <materialDesign:PackIcon Kind="ChartLine" 
                                               Width="{StaticResource MD3IconSizeMedium}" 
                                               Height="{StaticResource MD3IconSizeMedium}"
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="Stats" 
                                 Style="{StaticResource LabelSmallTextStyle}"
                                 HorizontalAlignment="Center"
                                 Margin="{StaticResource MD3SpacingVertical8}"/>
                    </StackPanel>
                </Button>

                <!-- History -->
                <Button Style="{StaticResource NavigationRailButtonStyle}"
                      Command="{Binding NavigateToHistoryCommand}"
                      ToolTip="History"
                      IsEnabled="{Binding IsHistoryViewActive, Converter={StaticResource InverseBooleanConverter}}"
                      Margin="{StaticResource MD3SubItemMargin}">
                    <StackPanel HorizontalAlignment="Center">
                        <materialDesign:PackIcon Kind="History" 
                                               Width="{StaticResource MD3IconSizeMedium}" 
                                               Height="{StaticResource MD3IconSizeMedium}"
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="History" 
                                 Style="{StaticResource LabelSmallTextStyle}"
                                 HorizontalAlignment="Center"
                                 Margin="{StaticResource MD3SpacingVertical8}"/>
                    </StackPanel>
                </Button>
            </StackPanel>

            <!-- Bottom Actions -->
            <StackPanel Grid.Row="2" 
                      Margin="{StaticResource MD3SpacingVertical16}">
                
                <!-- Settings -->
                <Button Style="{StaticResource NavigationRailButtonStyle}"
                      Command="{Binding OpenSettingsCommand}"
                      ToolTip="Settings"
                      Margin="{StaticResource MD3SubItemMargin}">
                    <StackPanel HorizontalAlignment="Center">
                        <materialDesign:PackIcon Kind="Settings" 
                                               Width="{StaticResource MD3IconSizeMedium}" 
                                               Height="{StaticResource MD3IconSizeMedium}"
                                               HorizontalAlignment="Center"/>
                        <TextBlock Text="Settings" 
                                 Style="{StaticResource LabelSmallTextStyle}"
                                 HorizontalAlignment="Center"
                                 Margin="{StaticResource MD3SpacingVertical8}"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>
    </materialDesign:Card>
</UserControl>